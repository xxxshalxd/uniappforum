"use strict";const e=require("../../../../common/vendor.js"),t={name:"u-button",emits:["click","getphonenumber","getuserinfo","error","opensetting","launchapp","chooseavatar"],props:{hairLine:{type:Boolean,default:!0},type:{type:String,default:"default"},size:{type:String,default:"default"},shape:{type:String,default:"square"},plain:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},openType:{type:String,default:""},formType:{type:String,default:""},appParameter:{type:String,default:""},hoverStopPropagation:{type:Boolean,default:!1},lang:{type:String,default:"en"},sessionFrom:{type:String,default:""},sendMessageTitle:{type:String,default:""},sendMessagePath:{type:String,default:""},sendMessageImg:{type:String,default:""},showMessageCard:{type:Boolean,default:!1},hoverBgColor:{type:String,default:""},rippleBgColor:{type:String,default:""},ripple:{type:Boolean,default:!1},hoverClass:{type:String,default:""},customStyle:{type:Object,default:()=>({})},dataName:{type:String,default:""},throttleTime:{type:[String,Number],default:500},hoverStartTime:{type:[String,Number],default:20},hoverStayTime:{type:[String,Number],default:150},timerId:{type:[String,Number]}},computed:{getHoverClass(){if(this.loading||this.disabled||this.ripple||this.hoverClass)return"";let e="";return e=this.plain?"u-"+this.type+"-plain-hover":"u-"+this.type+"-hover",e},showHairLineBorder(){return["primary","success","error","warning"].indexOf(this.type)>=0&&!this.plain?"":"u-hairline-border"}},data(){return{btnTimerId:this.timerId||"button_"+Math.floor(1e8*Math.random()+0),rippleTop:0,rippleLeft:0,fields:{},waveActive:!1}},methods:{click(e){this.$u.throttle((()=>{!0!==this.loading&&!0!==this.disabled&&(this.ripple&&(this.waveActive=!1,this.$nextTick((function(){this.getWaveQuery(e)}))),this.$emit("click",e))}),this.throttleTime,!0,this.btnTimerId)},getWaveQuery(e){this.getElQuery().then((t=>{let i=t[0];if(!i.width||!i.width)return;if(i.targetWidth=i.height>i.width?i.height:i.width,!i.targetWidth)return;this.fields=i;let r="",a="";r=e.touches[0].clientX,a=e.touches[0].clientY,this.rippleTop=a-i.top-i.targetWidth/2,this.rippleLeft=r-i.left-i.targetWidth/2,this.$nextTick((()=>{this.waveActive=!0}))}))},getElQuery(){return new Promise((t=>{let i="";i=e.index.createSelectorQuery().in(this),i.select(".u-btn").boundingClientRect(),i.exec((e=>{t(e)}))}))},getphonenumber(e){this.$emit("getphonenumber",e)},getuserinfo(e){this.$emit("getuserinfo",e)},error(e){this.$emit("error",e)},opensetting(e){this.$emit("opensetting",e)},launchapp(e){this.$emit("launchapp",e)},chooseavatar(e){this.$emit("chooseavatar",e)}}};const i=e._export_sfc(t,[["render",function(t,i,r,a,n,o){return e.e({a:r.ripple},r.ripple?{b:e.n(n.waveActive?"u-wave-active":""),c:n.rippleTop+"px",d:n.rippleLeft+"px",e:n.fields.targetWidth+"px",f:n.fields.targetWidth+"px",g:r.rippleBgColor||"rgba(0, 0, 0, 0.15)"}:{},{h:e.n("u-size-"+r.size),i:e.n(r.plain?"u-btn--"+r.type+"--plain":""),j:e.n(r.loading?"u-loading":""),k:e.n("circle"==r.shape?"u-round-circle":""),l:e.n(r.hairLine?o.showHairLineBorder:"u-btn--bold-border"),m:e.n("u-btn--"+r.type),n:e.n(r.disabled?`u-btn--${r.type}--disabled`:""),o:Number(r.hoverStartTime),p:Number(r.hoverStayTime),q:r.disabled,r:r.formType,s:r.openType,t:r.appParameter,v:r.hoverStopPropagation,w:r.sendMessageTitle,x:r.lang,y:r.dataName,z:r.sessionFrom,A:r.sendMessageImg,B:r.showMessageCard,C:e.o(((...e)=>o.getphonenumber&&o.getphonenumber(...e))),D:e.o(((...e)=>o.getuserinfo&&o.getuserinfo(...e))),E:e.o(((...e)=>o.error&&o.error(...e))),F:e.o(((...e)=>o.opensetting&&o.opensetting(...e))),G:e.o(((...e)=>o.launchapp&&o.launchapp(...e))),H:e.o(((...e)=>o.chooseavatar&&o.chooseavatar(...e))),I:e.s(r.customStyle),J:e.s({overflow:r.ripple?"hidden":"visible"}),K:e.o((e=>o.click(e))),L:o.getHoverClass,M:r.loading})}],["__scopeId","data-v-270e3a6c"]]);wx.createComponent(i);
